<script>
  window.addEventListener('DOMContentLoaded', (event) => {
    var categoryTitle = document.querySelector('ol.breadcrumbs > li:nth-child(2) > a');
    var $header = document.querySelector('.header');
    var $aside = document.querySelector('.article__aside');

    if (categoryTitle.innerText === 'GeoIP and GeoLite') {
      $header.classList.add('page-type--geoip');
      $aside.classList.add('page-type--geoip');
    } else if (categoryTitle.innerText === 'minFraud Services') {
      $header.classList.add('page-type--minfraud');
      $aside.classList.add('page-type--minfraud');
    }

    /* var thumbsUp = document.querySelector('.article-vote-up');
    var thumbsDown = document.querySelector('.article-vote-down');

    thumbsUp.innerHTML = '<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z"></path></svg>';
    thumbsDown.innerHTML = '<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 9.5a1.5 1.5 0 11-3 0v-6a1.5 1.5 0 013 0v6zM14 9.667v-5.43a2 2 0 00-1.105-1.79l-.05-.025A4 4 0 0011.055 2H5.64a2 2 0 00-1.962 1.608l-1.2 6A2 2 0 004.44 12H8v4a2 2 0 002 2 1 1 0 001-1v-.667a4 4 0 01.8-2.4l1.4-1.866a4 4 0 00.8-2.4z"></path></svg>';*/
  });
</script>

<div class="article__page">
  <section class="article__header">
    {{breadcrumbs}}
    <h1 class="article__title" title="{{article.title}}">
      {{article.title}}
      {{#if article.internal}}
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" focusable="false" viewBox="0 0 16 16" class="icon-lock" title="{{t 'internal'}}">
          <rect width="12" height="9" x="2" y="7" fill="currentColor" rx="1" ry="1"/>
          <path fill="none" stroke="currentColor" d="M4.5 7.5V4a3.5 3.5 0 017 0v3.5"/>
        </svg>
      {{/if}}
    </h1>
  </section>
  <aside class="article__aside">
    <nav class="aside__contents">
      <span class="aside__header">{{section.name}}</span>
      <div class="aside__articles">
        <ul>
          {{#each section.articles}}
          <li>
            <a href="{{url}}" class="aside__article-list-item {{#is id ../article.id}}current-article{{/is}}">{{title}}</a>
          </li>
          {{/each}}
          {{#if section.more_articles}}
          <a href="{{section.url}}" class="article__aside-see-more">{{t 'see_more'}}</a>
          {{/if}}
        </ul>
      </div>
    </nav>
  </aside>
  <div class="article__content">
    <div class="article__body">
      {{article.body}}
    </div>
    {{#if attachments}}
      <div class="article__attachments">
        <div class="article__attachments-header">Attachments</div>
        <ul class="individual__attachments">
          {{#each attachments}}
            <li class="individual__attachment-item">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" focusable="false" viewBox="0 0 16 16" class="attachment-icon">
                <path fill="none" stroke="currentColor" stroke-linecap="round" d="M9.5 4v7.7c0 .8-.7 1.5-1.5 1.5s-1.5-.7-1.5-1.5V3C6.5 1.6 7.6.5 9 .5s2.5 1.1 2.5 2.5v9c0 1.9-1.6 3.5-3.5 3.5S4.5 13.9 4.5 12V4"/>
              </svg>
              <a href="{{url}}" target="_blank">{{name}}</a>
              {{!-- <span class="attachment-meta-item meta-data">{{size}}</span> --}}
            </li>
          {{/each}}
        </ul>
      </div>
    {{/if}}
    <div class="article__updated">
      {{#is article.created_at article.edited_at}}
        <p>This page was last updated on {{date article.created_at format='medium'}}.</p>
      {{else}}
        <p>This page was last updated on {{date article.edited_at format='medium'}}.</p>
      {{/is}}
    </div>
  </div>
  <footer class="article__footer">
    {{#with article}}
      <div class="article__votes">
        <span class="article__votes-question" id="article-votes-label">{{t 'was_this_article_helpful'}}</span>
        <div class="article__votes-controls" role="group" aria-labelledby="article-votes-label">
          {{vote "up" role="radio" class="button article-vote article-vote-up"}}
          {{vote "down" role="radio" class="button article-vote article-vote-down"}}
        </div>
      </div>
    {{/with}}
  </footer>
</div>
